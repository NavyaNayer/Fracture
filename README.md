# FRACTURE
Where breaking makes it more beautiful.


 > [**Try Demo**](https://fracture-canvas.vercel.app)  


## The System That Learns to Break

**Draw order. Watch chaos emerge. Physics rewrite themselves.**

FRACTURE is where your drawings don't just break â€” they **evolve**. AI-generated physics rules mutate as entropy grows. Particles remember across system collapses. Patterns emerge you didn't program.

**Between Control and Chaos**: Not stable (rules constantly drift). Not random (every force calculated). Somewhere in between where you lose control and the system surprises you.

---

## ğŸ¯ Unstable Mechanics â€” All 5 Implemented

This project demonstrates all five recommended instability mechanics from the System Collapse Hackathon:

### 1ï¸âƒ£ Feedback Loops
Particles don't just move â€” they **affect each other**. Attraction pulls neighbors closer, repulsion creates cascades, and each collision changes the system state. Output becomes input in continuous cycles.

### 2ï¸âƒ£ Entropy Visuals  
The **chaos meter is visible** â€” watch entropy grow from 0% (perfect order) to 100% (total disorder). Particle velocity variance, position spread, and energy distribution are rendered in real-time as visual feedback.

### 3ï¸âƒ£ Adaptive Rules
**The physics rewrite themselves**. When instability reaches critical mass (adjustable threshold), GPT-4 generates entirely new interaction rules: different forces, different mutations, different aesthetic themes. The system never settles.

### 4ï¸âƒ£ Emergent Behaviour
Simple rules â†’ complex outcomes. Four force interactions create **unpredictable patterns**: spirals, vortices, waves, blooms, cascades. Even the creator doesn't know what will emerge next.

### 5ï¸âƒ£ Collapse Events
**Intentional resets that spawn new states**. When particles broken exceeds your threshold, the system "collapses" â€” new AI rules generate, but particle positions remember previous runs. Each collapse birth new physics.

---

## âœ¨ Features

### ğŸ¤– AI-Powered Physics
- **GPT-4 Rule Generation**: OpenAI generates unique physics rules each evolution
- **Adaptive Systems**: 3-4 interaction rules + mutations + aesthetic themes
- **Auto-Evolution**: System automatically evolves when enough particles break (adjustable threshold)

### ğŸ¨ Interactive Drawing
- **Draw Mode**: Paint directly on the canvas with your mouse
- **8 Neon Colors + Custom Picker**: Cyan, purple, pink, orange, lime, blue, magenta, yellow
- **Adjustable Brush**: Size (2-50px) and opacity (20-100%)
- **Structure Breaking**: Draw shapes that break into particles following physics rules

### âœ¨ Emergent Behaviors
- **100+ Particles**: Each with mass, velocity, and acceleration
- **Entropy System**: Grows from order (0%) â†’ chaos (100%)
- **Transformations**: Spiral, wave, vortex, cascade, bloom patterns
- **Force Interactions**: Attraction, repulsion, magnetic fields, rotational forces

### ğŸ“Š Real-Time Monitoring
- **Breaking Stats**: Track particles broken, structures destroyed
- **Live Metrics**: Frame rate, entropy level, particle count, average energy
- **Progress Indicator**: Visual bar showing progress toward auto-evolution
- **System Status**: Animation state, iteration number, rule metadata

---

## ğŸ¯ What Makes This System "Unstable"

### The Sweet Spot Between Order and Chaos
This isn't random noise. It's **controlled collapse**:
1. **Draw ordered structures** (lines, shapes, patterns)
2. **Watch them fragment** into 100+ particles
3. **Physics rules create interactions** (attraction, repulsion, rotation)
4. **Entropy increases** as energy disperses unevenly
5. **Patterns emerge** you didn't explicitly program (spirals, waves, vortices)
6. **System approaches critical mass** (tracked in real-time)
7. **Collapse event triggers** â€” AI rewrites the rules
8. **New physics emerge** from the same particles

### Why It's Interesting When It Breaks
- **Emergent Patterns**: You draw a circle, but get a spiral vortex you didn't program
- **Unpredictable AI**: GPT-4 might generate repulsion forces one iteration, quantum attraction the next
- **Cascading Effects**: One mutation triggers another, which triggers entropy spike, which triggers collapse
- **Memory Across Resets**: Particles remember their momentum when rules change â€” new physics on old state
- **You Lose Control**: After ~500 particles, the system does what it wants

### Living in the Edge Zone
- âœ… **Not Stable**: Rules constantly drift, entropy always grows
- âœ… **Not Random**: Every particle follows precise physics calculations  
- âœ… **Surprising**: Even the creator doesn't know what pattern will form
- âœ… **Autonomous**: System evolves itself without user input
- âœ… **Beautiful**: Chaos rendered as neon particles with glow effects

---


### First Steps

1. **Watch Initial Animation**: Particles appear and animate with default AI-generated rules
2. **Enter Draw Mode**: Click "âœï¸ Draw" button (top-right)
3. **Select a Color**: Choose from the color palette
4. **Draw a Shape**: Click and drag on the canvas
5. **Watch it Break**: Your shape explodes into particles following physics rules
6. **Adjust Threshold**: Use slider to set when AI evolves (500-3000 particles)
7. **Manual Evolution**: Click "Evolve" button for immediate new rules

---

## ğŸ“– How to Use

### View Mode (Default)
- **Canvas Interaction**: Click anywhere to spawn particle bursts
- **Auto-Evolution**: System automatically evolves at your set threshold
- **Manual Evolution**: Click "Evolve" button to generate new rules immediately
- **Animation Control**: Play/Pause button to freeze/resume physics
- **Reset**: Clear canvas and start fresh with new rules

### Draw Mode
1. **Enter Draw Mode**: Click "âœï¸ Draw" button
2. **Select Color**: Click a color swatch or use custom color picker
3. **Adjust Brush**: 
   - Size slider (2-50px)
   - Opacity slider (20-100%)
4. **Draw Structures**: Click and drag to paint
5. **Watch Them Break**: Structures automatically convert to particles
6. **Exit Draw Mode**: Click button again to return to view mode

### Breaking System
- **What Breaks**: Any shape you draw become particle structures
- **Particle Creation**: Each segment generates multiple particles
- **Color Inheritance**: Particles inherit the color you drew with
- **Physics Application**: Breaking particles immediately follow AI rules
- **Auto-Evolution Trigger**: System tracks total particles broken and evolves at threshold

### Settings & Controls
- **Auto-Evolution Threshold**: Slider sets particle count for evolution (500-3000)
- **Progress Bar**: Visual indicator shows X/threshold particles broken
- **Stats Toggle**: Show/hide additional metrics (frame, entropy, particles, energy)
- **Theme Toggle**: Switch between light/dark mode

---

## ğŸ¯ Core Concepts

### AI Rule Generation
The system uses GPT-4 to generate physics rules based on:
- **Iteration Number**: Rules evolve over time
- **Breaking Stats**: Particles broken, structures destroyed, entropy, energy
- **Temperature 1.0**: Balanced creativity and reliability
- **Generation Time**: 5-10 seconds per evolution

### Particle Physics
Each particle has:
- **Position & Velocity**: 2D vectors updated 60 times/second
- **Mass & Radius**: Affects gravitational interactions
- **Color**: Identifies which rule/drawing created it
- **Energy**: Calculated from velocity magnitude
- **Lifetime**: Some particles decay over time

### Entropy System
- **Starts at 0%**: Orderly initial state
- **Grows to 100%**: Based on particle energy variance
- **Triggers Mutations**: High entropy activates special transformations
- **Visual Indicator**: Progress bar shows current chaos level

### Force Rules (AI-Generated)
Examples of rules GPT-4 might create:
- *"Chaotic Energy"*: `forceMultiplier: -0.4, rangeMultiplier: 8.5, minSeparation: 15`
- *"Magnetic Drift"*: `rotationalForce: 0.5, energyThreshold: 0.3`
- *"Quantum Attraction"*: Different behaviors for high/low entropy states

### Mutations (AI-Generated)
Transformation types:
- **Spiral**: Particles rotate around center points
- **Wave**: Sinusoidal motion patterns
- **Vortex**: Circular flow fields
- **Cascade**: Waterfall-like falling patterns
- **Bloom**: Radial expansion from centers

---

## ğŸ—ï¸ Technical Architecture

### Tech Stack
- **Next.js 16.0.10**: React framework with Turbopack
- **TypeScript**: Type-safe development
- **Tailwind CSS**: Utility-first styling
- **OpenAI GPT-4**: Rule generation AI
- **Canvas API**: High-performance 2D rendering

### Project Structure
```
app/
  â”œâ”€â”€ api/
  â”‚   â”œâ”€â”€ generate-rules/route.ts   # GPT-4 rule generation endpoint
  â”‚   â””â”€â”€ analyze-state/route.ts    # Breaking stats analysis
  â”œâ”€â”€ layout.tsx                     # Root layout with theme provider
  â””â”€â”€ page.tsx                       # Main canvas page

components/
  â”œâ”€â”€ canvas-engine.ts               # Particle physics core
  â”œâ”€â”€ interactive-canvas.tsx         # Main canvas with drawing
  â”œâ”€â”€ drawing-toolbar.tsx            # Brush controls
  â”œâ”€â”€ drawing-utils.ts               # Shape detection & particle creation
  â”œâ”€â”€ control-panel.tsx              # Bottom controls & stats
  â”œâ”€â”€ rules-display.tsx              # Sidebar showing AI rules
  â””â”€â”€ system-monitor.tsx             # Top-right metrics display

lib/
  â””â”€â”€ utils.ts                       # Utility functions
```

### Key Systems

**Canvas Engine** (`canvas-engine.ts`):
- Manages particle array (position, velocity, mass, color)
- Applies force rules each frame
- Calculates entropy from energy variance
- Validates particle colors to prevent crashes
- Handles particle rendering with glow effects

**Drawing System** (`interactive-canvas.tsx` + `drawing-utils.ts`):
- Captures mouse movements in draw mode
- Detects closed shapes (triangles, rectangles, circles)
- Converts shapes to particles at break points
- Tracks breaking stats (total broken, structures, entropy, energy)
- Triggers auto-evolution at threshold

**Rule Generation** (`api/generate-rules/route.ts`):
- Calls GPT-4 with iteration context and breaking stats
- Temperature 1.0, max_tokens 800 for optimal speed
- Fallback rules on JSON parse errors
- Returns 3-4 force rules + mutations + theme

**Breaking Stats Tracking**:
```typescript
{
  totalParticlesBroken: number    // All particles created from breaking
  structuresBroken: number        // Count of shapes broken
  lastEntropy: number             // Entropy at last break (0-100)
  lastEnergy: number              // Average energy at last break
}
```

---

## ğŸ¨ Color System

### Rule Colors
- **AI-Assigned**: Each rule gets 2-3 colors (e.g., `["#ff006e", "#8b5cf6", "#06b6d4"]`)
- **Auto-Spawned Particles**: Particles created by rules use these colors
- **Visual Identification**: Helps identify which rule affects which particles

### Drawing Colors
- **User-Selected**: Choose from palette or custom picker
- **Structure Colors**: Drawn shapes use your selected color
- **Particle Inheritance**: Breaking particles inherit drawing color
- **8 Neon Presets**: Cyan, purple, pink, orange, lime, blue, magenta, yellow



---

## ğŸ’¡ Tips & Best Practices

### Drawing Strategies
- **Start Simple**: Draw basic shapes (triangles, circles) to understand breaking
- **Color Variety**: Use different colors to visually track particle groups
- **Structure Size**: Larger shapes = more particles = faster evolution
- **Break Strategically**: Draw near existing particles for interesting interactions

### Evolution Timing
- **Low Threshold (500)**: Rapid evolution, frequent rule changes
- **Medium Threshold (1000)**: Balanced, time to observe each rule set
- **High Threshold (2000-3000)**: Long observation periods, complex pattern development
- **Manual Control**: Use "Evolve" button anytime for immediate new rules

### Performance
- **Browser**: Chrome/Edge recommended for best canvas performance
- **Window Size**: Smaller windows = better framerate
- **Particle Count**: Monitor and reset if it gets too high (>500)
- **Background Tabs**: Pause animation if switching tabs

### Artistic Exploration
- **Let It Breathe**: Give each rule set time to develop patterns
- **Draw + Observe**: Alternate between drawing and watching
- **Entropy Levels**: Different rules behave differently at low vs high entropy
- **Screenshot**: Capture beautiful moments (system is always evolving)

---

## ğŸ“ Configuration

### Environment Variables
```bash
# Required for AI rule generation
OPENAI_API_KEY=sk-your-key-here
```

### AI Parameters (Configurable in `api/generate-rules/route.ts`)
```typescript
{
  model: "gpt-4o",
  temperature: 1.0,           // Creativity level (0-2)
  max_tokens: 800,            // Response length
  presence_penalty: 0.8,      // Topic diversity
  frequency_penalty: 0.8      // Word repetition
}
```

### Canvas Settings (Configurable in components)
```typescript
width: 1200                   // Canvas width
height: 800                   // Canvas height  
particleCount: 100            // Initial particles
entropyGrowthRate: 0.001     // Chaos accumulation
```





---

## ğŸ† Hackathon Alignment

### System Collapse Contest Requirements âœ“

âœ… **Browser-Based** â€” Canvas + Next.js web app  
âœ… **72-Hour Build** â€” Iterative development with clean commits  
âœ… **No Hardware/VR** â€” Pure code, creativity, libraries  
âœ… **Lives Between Control/Collapse** â€” Ordered drawings â†’ chaotic particles â†’ emergent patterns  
âœ… **Responds to Disorder** â€” Entropy drives mutations, breaking triggers evolution  
âœ… **Emergent Behaviour** â€” Patterns you didn't explicitly program  
âœ… **Working Demo** â€” Hosted, runnable, documented  
âœ… **Clear Rules** â€” Physics calculations, force interactions, entropy system  
âœ… **Surprises Creator** â€” AI-generated rules produce unpredictable outcomes  
âœ… **Evidence of Iteration** â€” Optimized temperature, tokens, particle counting, UI polish


---


## Creative Workflows

### Workflow 1: Pure Observation
Watch the system evolve, click "Evolve Rules" for new behaviors

### Workflow 2: Drawing Artist
Enter Draw Mode and create your own visual art

### Workflow 3: Hybrid Creator
Draw, exit, watch particles interact, draw more, repeat

### Workflow 4: Rule Explorer
Keep evolving rules, discover which ones create beauty

### Workflow 5: Pause & Compose
Freeze particles, draw on them, resume for interaction

---





## Quick Answers

**Q: Can I really draw on the canvas?**
A: YES! Click the "ğŸ‘ï¸ Draw Mode" button and paint with your mouse.

**Q: What happens to my drawing?**
A: It stays on the canvas as a transparent layer above the particles.

**Q: Does drawing affect the particles?**
A: No, particles continue their physics unaffected by your art.

**Q: How are the rules generated?**
A: OpenAI GPT-4 creates 3-4 unique physics rules each run via structured text generation.

**Q: Can I save my art?**
A: Yes, use your browser's screenshot function (or right-click â†’ Save Image).

**Q: Is it always different?**
A: Absolutely! Every run has unique OpenAI-generated rules and emergent behaviors.

**Q: What's the dark aesthetic about?**
A: Neon colors on dark background creates immersive, futuristic vibe matching the AI theme.

**Q: Can I share my creations?**
A: Screenshot them and share! Permanent export coming soon.

---

## Have Fun! ğŸ¨

This system is designed for:
- **Exploration** - see what emerges
- **Experimentation** - try everything
- **Expression** - make your art
- **Amazement** - get surprised

There's no wrong way to use it. Paint, evolve, observe, create something beautiful.



**Ready to create? Let's go! ğŸš€**


The canvas awaits your creativity. ğŸ¨âœ¨
